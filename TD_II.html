<!DOCTYPE html>
<html>
<head>
	<script src="js/app.js"></script>
	<link rel="stylesheet" href="style.css" />
	<title>TD II</title>
</head>
<body>

	<div class="container">
		<div class="card">
			<form>
				<label>Entrez un nombre :</label>
				<input id="data" type="number"/></form><br>

				<input id="submit-btn" type="button" value="Envoyer" onclick="play();">
				<input type="button" name="bouton" value="Recommencer" onclick="restart();">
			</form>
		</div>
		<div class="card-game">
			<p id="instructions"></p>
		</div>
		<div class="info">
			<p>Nombres trouvés / Tentatives :</p>
			<p id="stockage"></p>
		</div>
	</div>

	<script type="text/javascript">

    function randomNb(max) {
     return Math.floor(Math.random() * max);
    }

		let counter = 0;
		let win = false;
    let myRandom = randomNb(101);
		console.log (myRandom);
		var myTable = [];

		function play() {

				counter++;
				console.log(counter);
		    let entry = document.getElementById('data').value;
		    console.log(myRandom);

		    if (myRandom != entry) {
		        if (myRandom < entry){
		            document.getElementById("instructions").innerHTML ="C'est plus petit !";
		        }else if (myRandom > entry){
		            document.getElementById("instructions").innerHTML ="C'est plus grand !";
		        }
		    }

		    if(myRandom == entry){
		        document.getElementById("instructions").innerHTML ="Gagné !";
					console.log(myRandom);
					if (myTable.length == 5) {
						myTable.shift();
					}
					myTable.push([myRandom,counter]);
					document.getElementById("info").innerHTML = myTable;
					win = true;
		    }
		}

		function restart() {
			if (win != true) {
				if (myTable.length == 5) {
					myTable.shift();
				}
				myTable.push([-1,counter]);
				document.getElementById("instructions").innerHTML ="Perdu !";
				document.getElementById("info").innerHTML = myTable;
			}
			myRandom = randomNb(101);
			console.log (myRandom);
			counter = 0;
			console.log(myTable);
		}

  </script>

	<footer>
			<p class="footer-text">"Le nombre à trouver" by Ivann, Bryan, Yuyuan<p>
	</footer
</body>
</html>
